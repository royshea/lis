LIS and TinyOS
==============

Integration into TinyOS
-----------------------

LIS was specifically developed for collecting data from resource
constrained wireless embedded systems.  We have provided full
integration with the TinyOS 2.x operating system.  This support
provides:

* Build integration via a new "lis" option as an add-on to the mica2,
  micaZ, and TelosB targets
* Low overhead +bitlog+ runtime library providing basic logging support
* Multi-hop log delivery using the
  http://www.tinyos.net/tinyos-2.1.0/doc/html/tep123.html[collection
  tree protocol]
* Single-hop log delivery using the +AMSend+ interface


Installation
------------

Begin by installing LIS using the general
link:installation.html[installation instructions].  Navigate to
+$LISDIR/tinyos/support/utils/lowlog+ and execute the installation
script:

----
cd $LISDIR/tinyos/support/utils/lowlog
sh install_tos.sh $LISDIR $HOME/tinyos-2.1.0
----

The TinyOS support can be accessed via one of two modes: directly via
LIS scripts or using a higher level analysis that implements optimized
call trace generation.

----
# Move into demo directory
cd apps/MultihopLogTapRadioCountToLeds

# Generate image instrumented based on the "health_no_crc.lis" script
LIS_PATH=$LISDIR CPATH=$LIS_PATH/bitlog \
    LIS_FILE=crc.lis make telosb lis

# Generate image that gathers call traces through the LedsP and
# CtpRoutingEngineP TinyOS components.
LIS_PATH=$LISDIR CPATH=$LIS_PATH/bitlog \
    LOG_PREFIX="LedsP CtpRoutingEngineP" make telosb lowlog
----
